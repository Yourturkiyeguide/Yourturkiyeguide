<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞ –≥–∞–ª–µ—Ä–µ—è –∑ –º—ñ–Ω—ñ–∞—Ç—é—Ä–∞–º–∏</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #667eea 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .gallery-container {
      max-width: 1200px;
      width: 100%;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(20px);
      border-radius: 25px;
      padding: 40px;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .vertical-carousel {
      display: flex;
      height: 600px;
      gap: 30px;
      position: relative;
    }

    .main-display {
      flex: 1;
      border-radius: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
      transition: all 0.8s cubic-bezier(0.25, 0.8, 0.25, 1);
      cursor: pointer;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    .main-display img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 20px;
    }

    .main-display::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
      transform: translateX(-100%);
      transition: transform 0.6s;
      pointer-events: none;
      z-index: 2;
    }

    .main-display:hover::before {
      transform: translateX(100%);
    }

    .main-display::after {
      content: 'üîç –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –¥–ª—è –ø–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–≥–ª—è–¥—É';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 15px 25px;
      border-radius: 25px;
      font-size: 1.1em;
      opacity: 0;
      transition: all 0.3s ease;
      pointer-events: none;
      backdrop-filter: blur(10px);
      white-space: nowrap;
      z-index: 3;
    }

    .main-display:hover::after {
      opacity: 1;
    }

    .image-placeholder {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      color: rgba(255, 255, 255, 0.8);
      font-size: 1.2em;
      text-align: center;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .thumbnails-container {
      display: flex;
      flex-direction: column;
      gap: 15px;
      width: 160px;
      height: 100%;
      overflow-y: auto;
      padding: 10px;
      scrollbar-width: thin;
      scrollbar-color: rgba(255,255,255,0.3) transparent;
    }

    .thumbnails-container::-webkit-scrollbar {
      width: 6px;
    }

    .thumbnails-container::-webkit-scrollbar-track {
      background: rgba(255,255,255,0.1);
      border-radius: 3px;
    }

    .thumbnails-container::-webkit-scrollbar-thumb {
      background: rgba(255,255,255,0.3);
      border-radius: 3px;
    }

    .thumbnail {
      height: 120px;
      border-radius: 15px;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      opacity: 0.6;
      transform: translateX(20px);
      position: relative;
      overflow: hidden;
      border: 2px solid transparent;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    .thumbnail img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 13px;
    }

    .thumbnail::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s;
      pointer-events: none;
      z-index: 2;
    }

    .thumbnail:hover::before {
      left: 100%;
    }

    .thumbnail:hover, .thumbnail.active {
      opacity: 1;
      transform: translateX(0) scale(1.05);
      border-color: rgba(255,255,255,0.4);
      box-shadow: 0 10px 25px rgba(0,0,0,0.3);
    }

    .thumbnail.active {
      border-color: rgba(255,255,255,0.6);
      box-shadow: 0 0 20px rgba(255,255,255,0.3);
    }

    .thumbnail-placeholder {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: rgba(255, 255, 255, 0.7);
      font-size: 0.9em;
      text-align: center;
      background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
    }

    .progress-bar {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 4px;
      background: rgba(255,255,255,0.8);
      border-radius: 2px;
      transition: width 0.3s ease;
      box-shadow: 0 0 10px rgba(255,255,255,0.5);
      z-index: 4;
    }

    .slide-counter {
      position: absolute;
      top: 20px;
      right: 20px;
      background: rgba(0,0,0,0.5);
      color: white;
      padding: 10px 20px;
      border-radius: 25px;
      font-size: 1em;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.2);
      z-index: 4;
    }

    .gallery-info {
      text-align: center;
      color: rgba(255,255,255,0.8);
      margin-top: 30px;
      font-size: 1.1em;
      line-height: 1.6;
    }

    .error-message {
      color: #ff6b6b;
      font-size: 0.9em;
      margin-top: 10px;
      opacity: 0.8;
    }

    /* –°—Ç–∏–ª—ñ –¥–ª—è –ø–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É */
    .fullscreen-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.95);
      backdrop-filter: blur(20px);
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    .fullscreen-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .fullscreen-content {
      position: relative;
      max-width: 90vw;
      max-height: 90vh;
      text-align: center;
      transform: scale(0.8);
      transition: transform 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    .fullscreen-overlay.active .fullscreen-content {
      transform: scale(1);
    }

    .fullscreen-main {
      border-radius: 30px;
      padding: 60px 40px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 30px 60px rgba(0, 0, 0, 0.4);
      min-height: 400px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .fullscreen-main img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      border-radius: 20px;
    }

    .close-button {
      position: absolute;
      top: 30px;
      right: 30px;
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 2em;
      transition: all 0.3s;
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255, 255, 255, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
    }

    .close-button:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.1) rotate(90deg);
    }

    .fullscreen-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 2em;
      transition: all 0.3s;
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255, 255, 255, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
    }

    .fullscreen-nav:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: translateY(-50%) scale(1.1);
    }

    .nav-prev {
      left: 30px;
    }

    .nav-next {
      right: 30px;
    }

    .fullscreen-counter {
      position: absolute;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.6);
      color: white;
      padding: 15px 30px;
      border-radius: 30px;
      font-size: 1.2em;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      z-index: 10;
    }

    /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ñ —Å—Ç–∏–ª—ñ */
    @media (max-width: 768px) {
      .vertical-carousel {
        flex-direction: column;
        height: auto;
        gap: 20px;
      }

      .main-display {
        height: 400px;
        order: 2;
      }

      .main-display::after {
        font-size: 0.9em;
        padding: 10px 20px;
      }

      .thumbnails-container {
        flex-direction: row;
        width: 100%;
        height: 140px;
        order: 1;
        overflow-x: auto;
        overflow-y: hidden;
      }

      .thumbnail {
        min-width: 100px;
        height: 100px;
        transform: translateY(20px);
      }

      .thumbnail:hover, .thumbnail.active {
        transform: translateY(0) scale(1.05);
      }

      .gallery-container {
        padding: 20px;
      }

      .fullscreen-content {
        max-width: 95vw;
        max-height: 95vh;
      }

      .fullscreen-main {
        padding: 40px 20px;
        min-height: 300px;
      }

      .close-button, .fullscreen-nav {
        width: 50px;
        height: 50px;
        font-size: 1.5em;
      }

      .close-button {
        top: 20px;
        right: 20px;
      }

      .nav-prev {
        left: 20px;
      }

      .nav-next {
        right: 20px;
      }

      .fullscreen-counter {
        bottom: 20px;
        padding: 12px 24px;
        font-size: 1em;
      }

      .slide-counter {
        top: 15px;
        right: 15px;
        padding: 8px 16px;
        font-size: 0.9em;
      }
    }

    @media (max-width: 480px) {
      .gallery-container {
        padding: 15px;
      }

      .main-display {
        height: 300px;
      }

      .main-display::after {
        font-size: 0.8em;
        padding: 8px 16px;
      }

      .thumbnails-container {
        height: 120px;
      }

      .thumbnail {
        min-width: 80px;
        height: 80px;
      }

      .slide-counter {
        top: 10px;
        right: 10px;
        padding: 6px 12px;
        font-size: 0.8em;
      }

      .fullscreen-main {
        padding: 30px 15px;
        min-height: 250px;
      }

      .close-button, .fullscreen-nav {
        width: 45px;
        height: 45px;
        font-size: 1.3em;
      }

      .close-button {
        top: 15px;
        right: 15px;
      }

      .nav-prev {
        left: 15px;
      }

      .nav-next {
        right: 15px;
      }

      .fullscreen-counter {
        bottom: 15px;
        padding: 10px 20px;
        font-size: 0.9em;
      }
    }
  </style>
</head>
<body>
<div class="gallery-container">
  <div class="vertical-carousel">
    <div class="main-display" id="mainDisplay" onclick="openFullscreen()">
      <div class="image-placeholder" id="mainImageContainer">
        <span>üì∑</span>
        <span>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è...</span>
      </div>
      <div class="slide-counter">
        <span id="currentSlide">1</span> / <span id="totalSlides">3</span>
      </div>
      <div class="progress-bar" id="progressBar" style="width: 33.33%;"></div>
    </div>

    <div class="thumbnails-container" id="thumbnailsContainer">
      <!-- –ú—ñ–Ω—ñ–∞—Ç—é—Ä–∏ –±—É–¥—É—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω—ñ –¥–∏–Ω–∞–º—ñ—á–Ω–æ -->
    </div>
  </div>

  <div class="gallery-info">
    <p>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –º—ñ–Ω—ñ–∞—Ç—é—Ä—É –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–ª–∞–≤—ñ—à—ñ ‚Üë/‚Üì –¥–ª—è –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó</p>
    <p>Enter - –ø–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–∏–π —Ä–µ–∂–∏–º, Space - –∞–≤—Ç–æ–ø–ª–µ–π, R - –≤–∏–ø–∞–¥–∫–æ–≤–∏–π —Å–ª–∞–π–¥</p>
    <div class="error-message" id="errorMessage" style="display: none;"></div>
  </div>
</div>

<!-- –ü–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–∏–π –æ–≤–µ—Ä–ª–µ–π -->
<div class="fullscreen-overlay" id="fullscreenOverlay">
  <div class="fullscreen-content">
    <button class="close-button" onclick="closeFullscreen()">√ó</button>
    <button class="fullscreen-nav nav-prev" onclick="navigateFullscreen(-1)">‚Äπ</button>
    <button class="fullscreen-nav nav-next" onclick="navigateFullscreen(1)">‚Ä∫</button>

    <div class="fullscreen-main" id="fullscreenMain">
      <div class="image-placeholder">
        <span>üì∑</span>
        <span>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è...</span>
      </div>
    </div>

    <div class="fullscreen-counter">
      <span id="fullscreenCurrentSlide">1</span> / <span id="fullscreenTotalSlides">3</span>
    </div>
  </div>
</div>

<script>
  // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ–π–Ω—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è (–º–æ–∂–µ—Ç–µ –∑–∞–º—ñ–Ω–∏—Ç–∏ –Ω–∞ –≤–∞—à—ñ —Ä–µ–∞–ª—å–Ω—ñ —à–ª—è—Ö–∏)
  const slides = [
    {
      image: 'assets/img/hello/IMG_2132.jpg',
      title: '–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è 1',
      description: '–ö—Ä–∞—Å–∏–≤–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø—Ä–∏—Ä–æ–¥–∏'
    },
    {
      image: 'assets/img/hello/IMG_3639.jpg',
      title: '–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è 2',
      description: '–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—è'
    },
    {
      image: 'assets/img/hello/IMG_6437.jpg',
      title: '–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è 3',
      description: '–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–µ –º–∏—Å—Ç–µ—Ü—Ç–≤–æ'
    }
    // –î–æ–¥–∞–π—Ç–µ –≤–∞—à—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç—É—Ç, –∑–∞–º—ñ–Ω–∏–≤—à–∏ URL –Ω–∞ —Ä–µ–∞–ª—å–Ω—ñ —à–ª—è—Ö–∏:
    // {
    //   image: 'assets/img/hello/IMG_3639.jpg',
    //   title: '–ú–æ—î —Ñ–æ—Ç–æ 1',
    //   description: '–û–ø–∏—Å —Ñ–æ—Ç–æ'
    // }
  ];

  let currentIndex = 0;
  let isFullscreen = false;
  let autoPlayInterval = null;
  let isAutoPlaying = false;

  function createImageElement(src, alt = '', onLoad = null, onError = null) {
    const img = document.createElement('img');
    img.src = src;
    img.alt = alt;

    if (onLoad) {
      img.onload = onLoad;
    }

    if (onError) {
      img.onerror = onError;
    }

    return img;
  }

  function showError(message) {
    const errorElement = document.getElementById('errorMessage');
    errorElement.textContent = message;
    errorElement.style.display = 'block';
    setTimeout(() => {
      errorElement.style.display = 'none';
    }, 5000);
  }

  function createThumbnails() {
    const container = document.getElementById('thumbnailsContainer');
    container.innerHTML = '';

    slides.forEach((slide, index) => {
      const thumbnail = document.createElement('div');
      thumbnail.className = `thumbnail ${index === 0 ? 'active' : ''}`;
      thumbnail.onclick = () => changeSlide(index, thumbnail);

      const img = createImageElement(
        slide.image,
        slide.title || `–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è ${index + 1}`,
        () => {
          // –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–ª–æ—Å—è —É—Å–ø—ñ—à–Ω–æ
          thumbnail.querySelector('.thumbnail-placeholder')?.remove();
        },
        () => {
          // –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
          const placeholder = document.createElement('div');
          placeholder.className = 'thumbnail-placeholder';
          placeholder.innerHTML = `
          <span>‚ùå</span>
          <span>–ü–æ–º–∏–ª–∫–∞</span>
        `;
          thumbnail.innerHTML = '';
          thumbnail.appendChild(placeholder);
        }
      );

      // –î–æ–¥–∞—î–º–æ placeholder –ø–æ–∫–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
      const placeholder = document.createElement('div');
      placeholder.className = 'thumbnail-placeholder';
      placeholder.innerHTML = `
      <span>üì∑</span>
      <span>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</span>
    `;

      thumbnail.appendChild(placeholder);
      thumbnail.appendChild(img);
      container.appendChild(thumbnail);
    });
  }

  function changeSlide(index, element) {
    if (index < 0 || index >= slides.length) return;

    currentIndex = index;
    const slide = slides[index];
    const mainDisplay = document.getElementById('mainDisplay');
    const mainImageContainer = document.getElementById('mainImageContainer');

    // –û—á–∏—â—É—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –∫–æ–Ω—Ç–µ–Ω—Ç
    mainImageContainer.innerHTML = `
    <span>üì∑</span>
    <span>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è...</span>
  `;

    // –°—Ç–≤–æ—Ä—é—î–º–æ –Ω–æ–≤–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    const img = createImageElement(
      slide.image,
      slide.title || `–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è ${index + 1}`,
      () => {
        // –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–ª–æ—Å—è —É—Å–ø—ñ—à–Ω–æ
        mainImageContainer.innerHTML = '';
        mainImageContainer.appendChild(img);
      },
      () => {
        // –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
        mainImageContainer.innerHTML = `
        <span>‚ùå</span>
        <span>–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è</span>
        <small style="margin-top: 10px; opacity: 0.7;">${slide.image}</small>
      `;
        showError(`–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è: ${slide.title || '–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è ' + (index + 1)}`);
      }
    );

    // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–æ—ó –º—ñ–Ω—ñ–∞—Ç—é—Ä–∏
    document.querySelectorAll('.thumbnail').forEach(thumb => {
      thumb.classList.remove('active');
    });
    if (element) {
      element.classList.add('active');
    }

    // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ —Ç–∞ –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä—É
    document.getElementById('currentSlide').textContent = index + 1;
    document.getElementById('progressBar').style.width = `${((index + 1) / slides.length) * 100}%`;

    // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É, —è–∫—â–æ –≤—ñ–¥–∫—Ä–∏—Ç–æ
    if (isFullscreen) {
      updateFullscreenContent();
    }

    // –°–∫—Ä–æ–ª –¥–æ –∞–∫—Ç–∏–≤–Ω–æ—ó –º—ñ–Ω—ñ–∞—Ç—é—Ä–∏ –Ω–∞ –º–æ–±—ñ–ª—å–Ω–∏—Ö
    if (element) {
      element.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
    }
  }

  function nextSlide() {
    const nextIndex = (currentIndex + 1) % slides.length;
    const nextThumbnail = document.querySelectorAll('.thumbnail')[nextIndex];
    changeSlide(nextIndex, nextThumbnail);
  }

  function prevSlide() {
    const prevIndex = (currentIndex - 1 + slides.length) % slides.length;
    const prevThumbnail = document.querySelectorAll('.thumbnail')[prevIndex];
    changeSlide(prevIndex, prevThumbnail);
  }

  function toggleAutoPlay() {
    if (isAutoPlaying) {
      stopAutoPlay();
    } else {
      startAutoPlay();
    }
  }

  function startAutoPlay() {
    if (!isAutoPlaying) {
      isAutoPlaying = true;
      autoPlayInterval = setInterval(() => {
        nextSlide();
      }, 3000);
    }
  }

  function stopAutoPlay() {
    if (isAutoPlaying) {
      isAutoPlaying = false;
      if (autoPlayInterval) {
        clearInterval(autoPlayInterval);
        autoPlayInterval = null;
      }
    }
  }

  function openFullscreen() {
    const overlay = document.getElementById('fullscreenOverlay');
    isFullscreen = true;

    document.body.style.overflow = 'hidden';
    updateFullscreenContent();
    overlay.classList.add('active');
    stopAutoPlay();
  }

  function closeFullscreen() {
    const overlay = document.getElementById('fullscreenOverlay');
    isFullscreen = false;
    document.body.style.overflow = '';
    overlay.classList.remove('active');
  }

  function updateFullscreenContent() {
    const slide = slides[currentIndex];
    const fullscreenMain = document.getElementById('fullscreenMain');

    // –û—á–∏—â—É—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –∫–æ–Ω—Ç–µ–Ω—Ç
    fullscreenMain.innerHTML = `
    <div class="image-placeholder">
      <span>üì∑</span>
      <span>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è...</span>
    </div>
  `;

    // –°—Ç–≤–æ—Ä—é—î–º–æ –Ω–æ–≤–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    const img = createImageElement(
      slide.image,
      slide.title || `–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è ${currentIndex + 1}`,
      () => {
        // –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–ª–æ—Å—è —É—Å–ø—ñ—à–Ω–æ
        fullscreenMain.innerHTML = '';
        fullscreenMain.appendChild(img);
      },
      () => {
        // –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
        fullscreenMain.innerHTML = `
        <div class="image-placeholder">
          <span>‚ùå</span>
          <span>–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è</span>
        </div>
      `;
      }
    );

    // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ª—ñ—á—ñ–ª—å–Ω–∏–∫–∞
    document.getElementById('fullscreenCurrentSlide').textContent = currentIndex + 1;
    document.getElementById('fullscreenTotalSlides').textContent = slides.length;
  }

  function navigateFullscreen(direction) {
    if (direction === 1) {
      nextSlide();
    } else {
      prevSlide();
    }
  }

  function shuffleSlides() {
    const randomIndex = Math.floor(Math.random() * slides.length);
    const randomThumbnail = document.querySelectorAll('.thumbnail')[randomIndex];
    changeSlide(randomIndex, randomThumbnail);
  }

  function resetGallery() {
    stopAutoPlay();
    const firstThumbnail = document.querySelectorAll('.thumbnail')[0];
    changeSlide(0, firstThumbnail);

    if (isFullscreen) {
      closeFullscreen();
    }
  }

  // –û–±—Ä–æ–±–∫–∞ —Ç–∞—á-–ø–æ–¥—ñ–π –¥–ª—è –º–æ–±—ñ–ª—å–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤
  let touchStartX = 0;
  let touchStartY = 0;
  let touchEndX = 0;
  let touchEndY = 0;

  function handleTouchStart(e) {
    touchStartX = e.touches[0].clientX;
    touchStartY = e.touches[0].clientY;
  }

  function handleTouchMove(e) {
    touchEndX = e.touches[0].clientX;
    touchEndY = e.touches[0].clientY;
  }

  function handleTouchEnd() {
    const deltaX = touchEndX - touchStartX;
    const deltaY = touchEndY - touchStartY;
    const minSwipeDistance = 50;

    if (Math.abs(deltaX) > Math.abs(deltaY)) {
      if (Math.abs(deltaX) > minSwipeDistance) {
        if (deltaX > 0) {
          prevSlide();
        } else {
          nextSlide();
        }
      }
    } else {
      if (Math.abs(deltaY) > minSwipeDistance) {
        if (deltaY > 0) {
          prevSlide();
        } else {
          nextSlide();
        }
      }
    }
  }

  function showHelp() {
    const helpText = `
–ö–ª–∞–≤—ñ–∞—Ç—É—Ä–Ω—ñ —Å–∫–æ—Ä–æ—á–µ–Ω–Ω—è:
‚Ä¢ ‚Üë/‚Üì - –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –ø–æ —Å–ª–∞–π–¥–∞—Ö
‚Ä¢ Enter - –ü–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–∏–π —Ä–µ–∂–∏–º
‚Ä¢ Escape - –í–∏—Ö—ñ–¥/–°–∫–∏–¥–∞–Ω–Ω—è
‚Ä¢ Space - –ê–≤—Ç–æ–ø–ª–µ–π
‚Ä¢ R - –í–∏–ø–∞–¥–∫–æ–≤–∏–π —Å–ª–∞–π–¥
‚Ä¢ H - –¶—è –¥–æ–≤—ñ–¥–∫–∞

–ú–∏—à–∞/–î–æ—Ç–∏–∫:
‚Ä¢ –ö–ª—ñ–∫ –ø–æ –º—ñ–Ω—ñ–∞—Ç—é—Ä—ñ - –ü–µ—Ä–µ—Ö—ñ–¥ –¥–æ —Å–ª–∞–π–¥—É
‚Ä¢ –ö–ª—ñ–∫ –ø–æ –≥–æ–ª–æ–≤–Ω–æ–º—É –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—é - –ü–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–∏–π —Ä–µ–∂–∏–º
‚Ä¢ –°–≤–∞–π–ø –≤–ª—ñ–≤–æ/–≤–ø—Ä–∞–≤–æ - –ù–∞–≤—ñ–≥–∞—Ü—ñ—è
‚Ä¢ –°–≤–∞–π–ø –≤–≥–æ—Ä—É/–≤–Ω–∏–∑ - –ù–∞–≤—ñ–≥–∞—Ü—ñ—è
  `;

    alert(helpText);
  }

  // –ö–ª–∞–≤—ñ–∞—Ç—É—Ä–Ω–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è
  document.addEventListener('keydown', (e) => {
    if (isFullscreen) {
      if (e.key === 'Escape') {
        closeFullscreen();
      } else if (e.key === 'ArrowLeft') {
        e.preventDefault();
        prevSlide();
      } else if (e.key === 'ArrowRight') {
        e.preventDefault();
        nextSlide();
      }
    } else {
      if (e.key === 'ArrowUp') {
        e.preventDefault();
        prevSlide();
      } else if (e.key === 'ArrowDown') {
        e.preventDefault();
        nextSlide();
      } else if (e.key === ' ') {
        e.preventDefault();
        toggleAutoPlay();
      } else if (e.key === 'Enter') {
        e.preventDefault();
        openFullscreen();
      } else if (e.key === 'Escape') {
        e.preventDefault();
        resetGallery();
      } else if (e.key.toLowerCase() === 'r') {
        e.preventDefault();
        shuffleSlides();
      } else if (e.key.toLowerCase() === 'h') {
        e.preventDefault();
        showHelp();
      }
    }
  });

  // –û–±—Ä–æ–±–Ω–∏–∫–∏ —Ç–∞—á-–ø–æ–¥—ñ–π
  document.addEventListener('touchstart', handleTouchStart);
  document.addEventListener('touchmove', handleTouchMove);
  document.addEventListener('touchend', handleTouchEnd);

  // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –≥–∞–ª–µ—Ä–µ—ó –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è DOM
  document.addEventListener('DOMContentLoaded', () => {
    // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–≥–∞–ª—å–Ω–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Å–ª–∞–π–¥—ñ–≤
    document.getElementById('totalSlides').textContent = slides.length;
    document.getElementById('fullscreenTotalSlides').textContent = slides.length;

    // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º—ñ–Ω—ñ–∞—Ç—é—Ä
    createThumbnails();

    // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø–µ—Ä—à–æ–≥–æ —Å–ª–∞–π–¥—É
    const firstThumbnail = document.querySelectorAll('.thumbnail')[0];
    changeSlide(0, firstThumbnail);

    console.log('–ì–∞–ª–µ—Ä–µ—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —É—Å–ø—ñ—à–Ω–æ!');
    console.log(`–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ ${slides.length} —Å–ª–∞–π–¥—ñ–≤`);
    console.log('–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å H –¥–ª—è –¥–æ–≤—ñ–¥–∫–∏ –ø–æ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–Ω–∏–º —Å–∫–æ—Ä–æ—á–µ–Ω–Ω—è–º');
  });

  // –û–±—Ä–æ–±–∫–∞ –∑–∞–∫—Ä–∏—Ç—Ç—è –ø–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É –ø—Ä–∏ –∫–ª—ñ–∫—É –ø–æ–∑–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
  document.getElementById('fullscreenOverlay').addEventListener('click', (e) => {
    if (e.target === document.getElementById('fullscreenOverlay')) {
      closeFullscreen();
    }
  });

  // –ó–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –∑–∞–∫—Ä–∏—Ç—Ç—é –ø—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç
  document.querySelector('.fullscreen-content').addEventListener('click', (e) => {
    e.stopPropagation();
  });

  // –ï–∫—Å–ø–æ—Ä—Ç —Ñ—É–Ω–∫—Ü—ñ–π –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
  window.galleryAPI = {
    nextSlide,
    prevSlide,
    changeSlide,
    toggleAutoPlay,
    startAutoPlay,
    stopAutoPlay,
    openFullscreen,
    closeFullscreen,
    shuffleSlides,
    resetGallery,
    showHelp,
    getCurrentIndex: () => currentIndex,
    getSlidesCount: () => slides.length,
    isAutoPlaying: () => isAutoPlaying,
    isFullscreenMode: () => isFullscreen
  };
</script>
</body>
</html>
